'use strict';

SwaggerUi.Views.StatusCodeView = Backbone.View.extend({
  initialize: function (opts) {
    this.options = opts || {};
    this.router = this.options.router;
  },

  render: function(){
    $(this.el).html(Handlebars.templates.status_code(this.model));

    if (this.model.signature) {
      var responseModel = {
				sampleJSON: (typeof this.model.sampleJSON === 'object' ? JSON.stringify(this.model.sampleJSON, null, 2) : this.model.sampleJSON),
        isParam: false,
        signature: this.model.signature,
      };

      var responseModelView = new SwaggerUi.Views.SignatureView({model: responseModel, tagName: 'div'});
      $('.model-signature', this.$el).append(responseModelView.render().el);
    } else {
      $('.model-signature', this.$el).html('');
    }
    return this;
  }
});
